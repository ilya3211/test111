!function(e){"function"==typeof define&&define.amd?define("templates",e):e()}((function(){"use strict";jQuery((function(e){function o(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):function(e){var o=document.createElement("textarea");o.value=e,o.style.top="0",o.style.left="0",o.style.position="fixed",document.body.appendChild(o),o.focus(),o.select();try{var t=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+t)}catch(e){console.error("Fallback: Oops, unable to copy",e)}document.body.removeChild(o)}(e)}e(".js-wpremark-icon-preview-size").on("change input",(function(){var o=e(this).val();e(".js-wpremark-admin-icons").removeClass().addClass("wpremark-admin-icons js-wpremark-admin-icons").addClass("wpremark-admin-icons--"+o),e(".js-wpremark-icon-preview-size-text").text(o)})),e(".js-wpremark-icon-preview-color").wpColorPicker({change:function(o,t){var a=t.color.toString();console.log(a),e(".js-wpremark-admin-icons").attr("style","--wpremark-preview-icon-color: "+a)},clear:function(){e(".js-wpremark-admin-icons").attr("style","")}}),e(document).on("click",".js-wpremark-copy",(function(){var t=e(this).data("copy"),a=e(this).data("copy-shortcode"),n=e(this).data("copy-php"),i=e(this).parents(".js-wpremark-icon-preview").find(".js-wpremark-icon-preview-copied"),r=e(".js-wpremark-icon-preview-size").val(),s=e(".js-wpremark-icon-preview-color").val();console.log(t),console.log(a),console.log(n),void 0!==t&&o(t),void 0!==a&&(a='[wpremark_icon icon="'+a+'" width="'+r+'" height="'+r+'"',s.length&&(a+=' color="'+s+'"'),o(a+="]")),void 0!==n&&(n="<?php echo wpremark_icon( '"+n+"', [ ",n+="'width' => "+r+", 'height' => "+r,s.length&&(n+=", 'color' => '"+s+"'"),o(n+=" ] ); ?>")),i.css("display","flex"),setTimeout((function(){i.addClass("open")}),50),setTimeout((function(){i.hide().removeClass("open")}),1e3)}));var t=".js-wpremark-templates-preview-item-import",a=".js-wpremark-templates-preview-item-remove";e(document).on("click",t+", "+a,(function(o){o.preventDefault();var n=e(this),i=n.parents(".js-wpremark-templates-preview-item"),r=i.parents(".js-wpremark-templates-preview");e.ajax({url:ajaxurl,type:"post",data:{action:n.data("action"),nonce:r.find('input[name="wpremark_presets_nonce"]').val(),name:i.data("name")},beforeSend:function(){n.prop("disabled",!0)}}).done((function(e){var o,r,s;if(e.success)o=n.data("action"),r=i.find(t),s=i.find(a),"wpremark_import_preset"===o?(r.hide(),s.show()):(r.show(),s.hide());else if(Array.isArray(e.data)){for(var c=[],p=0;p<e.data.length;p++)c.push(e.data[p].message);alert(c.join("\n"))}})).always((function(){n.prop("disabled",!1)}))})),e(document).on("click",".js-wpremark-templates-preview-item-copy-shortcode",(function(){var o=e(this),t=e(this).parents(".js-wpremark-templates-preview-item"),a=t.find(".js-wpremark-templates-preview-item-result"),n=t.find(".js-wpremark-templates-preview-item-shortcode"),i=e("<input style='position: absolute;left: -500px;top: -300px;opacity: .01;'>");e("body").append(i),i.val(n.text()).select(),document.execCommand("copy"),i.remove(),a.show(),a.text(o.data("text-copied")),setTimeout((function(){a.hide(),a.text("")}),1e3)}))}))}));